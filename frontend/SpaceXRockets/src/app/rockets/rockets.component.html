<section class="rockets container my-4">
  @if (loading()) {
    <p class="status alert alert-info" role="status">Loading rocketsâ€¦</p>
  } @else if (error()) {
    <p class="status alert alert-danger" role="alert">{{ error() }}</p>
  } @else {
    @if (rockets().length === 0) {
      <p class="status alert alert-warning" role="status">No rockets found.</p>
    } @else {
      <div class="table-wrapper table-responsive" role="region" aria-label="Rockets table">
        <table class="table table-striped table-hover align-middle">
          <thead>
          <tr>
            @for (col of columns(); track col) {
              <th scope="col"
                  [attr.aria-sort]="sortColumn() === col ? (sortDirection() === 'asc' ? 'ascending' : 'descending') : 'none'">
                <button type="button"
                        class="th-btn btn btn-link p-0 text-decoration-none"
                        (click)="setSort(col)"
                        [class.active]="sortColumn() === col"
                        [class.asc]="sortColumn() === col && sortDirection() === 'asc'"
                        [class.desc]="sortColumn() === col && sortDirection() === 'desc'">
                  {{ col }}
                </button>
              </th>
            }
          </tr>
          </thead>
          <tbody>
          @for (r of sortedRockets(); track r['id'] ?? $index) {
            <tr>
              @for (col of columns(); track col) {
                <td>{{ r[col] }}</td>
              }
            </tr>
          }
          </tbody>
        </table>
      </div>
    }
  }
</section>
